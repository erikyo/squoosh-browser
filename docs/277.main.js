"use strict";(self.webpackChunksquoosh_browser_demo=self.webpackChunksquoosh_browser_demo||[]).push([[277],{277:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m,initThreadPool:()=>p,optimise:()=>f,wbg_rayon_PoolBuilder:()=>y,wbg_rayon_start_worker:()=>g});var r=t(723);let o,i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let s=null;function a(){return null!==s&&s.buffer===o.__wbindgen_export_0.buffer||(s=new Uint8Array(o.__wbindgen_export_0.buffer)),s}const _=new Array(32).fill(void 0);_.push(void 0,null,!0,!1);let u=_.length;function b(e){u===_.length&&_.push(_.length+1);const n=u;return u=_[n],_[n]=e,n}let c=0,l=null;function w(){return null!==l&&l.buffer===o.__wbindgen_export_0.buffer||(l=new Int32Array(o.__wbindgen_export_0.buffer)),l}function f(e,n,t){try{const f=o.__wbindgen_add_to_stack_pointer(-16);var r=function(e,n){const t=n(1*e.length);return a().set(e,t/1),c=e.length,t}(e,o.__wbindgen_malloc),i=c;o.optimise(f,r,i,n,t);var s=w()[f/4+0],_=w()[f/4+1],u=(b=s,l=_,a().subarray(b/1,b/1+l)).slice();return o.__wbindgen_free(s,1*_),u}finally{o.__wbindgen_add_to_stack_pointer(16)}var b,l}function d(e){const n=function(e){return _[e]}(e);return function(e){e<36||(_[e]=u,u=e)}(e),n}function p(e){return d(o.initThreadPool(e))}function g(e){o.wbg_rayon_start_worker(e)}class y{static __wrap(e){const n=Object.create(y.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){return o.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return o.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){o.wbg_rayon_poolbuilder_build(this.ptr)}}const m=async function e(n,s){void 0===n&&(n=new URL(t(456),t.b));const _={wbg:{}};_.wbg.__wbindgen_throw=function(e,n){throw new Error((t=e,r=n,i.decode(a().slice(t,t+r))));var t,r},_.wbg.__wbindgen_module=function(){return b(e.__wbindgen_wasm_module)},_.wbg.__wbindgen_memory=function(){return b(o.__wbindgen_export_0)},_.wbg.__wbg_startWorkers_914655bb4d5bb5e1=function(e,n,t){return b((0,r.Q)(d(e),d(n),y.__wrap(t)))},("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n)),_.wbg.memory=s||new WebAssembly.Memory({initial:17,maximum:16384,shared:!0});const{instance:u,module:c}=await async function(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}(await n,_);return o=u.exports,e.__wbindgen_wasm_module=c,o.__wbindgen_start(),o}},456:(e,n,t)=>{e.exports=t.p+"6ac3239376efce53600f.wasm"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJMLFlBQVlnQixZQUFZVixFQUFRckIsR0FFdkQsT0FBSW9CLGFBQW9CTCxZQUFZaUIsU0FDekIsQ0FBRVosU0FBQUEsRUFBVUMsT0FBQUEsR0FHWkQsR0FpQ29CYSxPQUFXcEMsRUFBT0csR0FLckQsT0FIQXhFLEVBQU80RixFQUFTYyxRQUNoQnRDLEVBQUtXLHVCQUF5QmMsRUFDOUI3RixFQUFLMkcsbUJBQ0UzRyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3F1b29zaC1icm93c2VyLWRlbW8vLi4vY29kZWNzL294aXBuZy9wa2ctcGFyYWxsZWwvc3F1b29zaF9veGlwbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RhcnRXb3JrZXJzIH0gZnJvbSAnLi9zbmlwcGV0cy93YXNtLWJpbmRnZW4tcmF5b24tM2QyZGYwOWViZWMxN2EyMi9zcmMvd29ya2VySGVscGVycy5qcyc7XHJcblxyXG5sZXQgd2FzbTtcclxuXHJcbmxldCBjYWNoZWRUZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnLCB7IGlnbm9yZUJPTTogdHJ1ZSwgZmF0YWw6IHRydWUgfSk7XHJcblxyXG5jYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoKTtcclxuXHJcbmxldCBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG51bGw7XHJcbmZ1bmN0aW9uIGdldFVpbnQ4TWVtb3J5MCgpIHtcclxuICAgIGlmIChjYWNoZWdldFVpbnQ4TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldFVpbnQ4TWVtb3J5MC5idWZmZXIgIT09IHdhc20uX193YmluZGdlbl9leHBvcnRfMC5idWZmZXIpIHtcclxuICAgICAgICBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG5ldyBVaW50OEFycmF5KHdhc20uX193YmluZGdlbl9leHBvcnRfMC5idWZmZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDhNZW1vcnkwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTdHJpbmdGcm9tV2FzbTAocHRyLCBsZW4pIHtcclxuICAgIHJldHVybiBjYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoZ2V0VWludDhNZW1vcnkwKCkuc2xpY2UocHRyLCBwdHIgKyBsZW4pKTtcclxufVxyXG5cclxuY29uc3QgaGVhcCA9IG5ldyBBcnJheSgzMikuZmlsbCh1bmRlZmluZWQpO1xyXG5cclxuaGVhcC5wdXNoKHVuZGVmaW5lZCwgbnVsbCwgdHJ1ZSwgZmFsc2UpO1xyXG5cclxubGV0IGhlYXBfbmV4dCA9IGhlYXAubGVuZ3RoO1xyXG5cclxuZnVuY3Rpb24gYWRkSGVhcE9iamVjdChvYmopIHtcclxuICAgIGlmIChoZWFwX25leHQgPT09IGhlYXAubGVuZ3RoKSBoZWFwLnB1c2goaGVhcC5sZW5ndGggKyAxKTtcclxuICAgIGNvbnN0IGlkeCA9IGhlYXBfbmV4dDtcclxuICAgIGhlYXBfbmV4dCA9IGhlYXBbaWR4XTtcclxuXHJcbiAgICBoZWFwW2lkeF0gPSBvYmo7XHJcbiAgICByZXR1cm4gaWR4O1xyXG59XHJcblxyXG5sZXQgV0FTTV9WRUNUT1JfTEVOID0gMDtcclxuXHJcbmZ1bmN0aW9uIHBhc3NBcnJheThUb1dhc20wKGFyZywgbWFsbG9jKSB7XHJcbiAgICBjb25zdCBwdHIgPSBtYWxsb2MoYXJnLmxlbmd0aCAqIDEpO1xyXG4gICAgZ2V0VWludDhNZW1vcnkwKCkuc2V0KGFyZywgcHRyIC8gMSk7XHJcbiAgICBXQVNNX1ZFQ1RPUl9MRU4gPSBhcmcubGVuZ3RoO1xyXG4gICAgcmV0dXJuIHB0cjtcclxufVxyXG5cclxubGV0IGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbnVsbDtcclxuZnVuY3Rpb24gZ2V0SW50MzJNZW1vcnkwKCkge1xyXG4gICAgaWYgKGNhY2hlZ2V0SW50MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0SW50MzJNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLmJ1ZmZlcikge1xyXG4gICAgICAgIGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbmV3IEludDMyQXJyYXkod2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLmJ1ZmZlcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2FjaGVnZXRJbnQzMk1lbW9yeTA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFycmF5VThGcm9tV2FzbTAocHRyLCBsZW4pIHtcclxuICAgIHJldHVybiBnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIgLyAxLCBwdHIgLyAxICsgbGVuKTtcclxufVxyXG4vKipcclxuKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGFcclxuKiBAcGFyYW0ge251bWJlcn0gbGV2ZWxcclxuKiBAcGFyYW0ge2Jvb2xlYW59IGludGVybGFjZVxyXG4qIEByZXR1cm5zIHtVaW50OEFycmF5fVxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gb3B0aW1pc2UoZGF0YSwgbGV2ZWwsIGludGVybGFjZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcclxuICAgICAgICB2YXIgcHRyMCA9IHBhc3NBcnJheThUb1dhc20wKGRhdGEsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xyXG4gICAgICAgIHZhciBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xyXG4gICAgICAgIHdhc20ub3B0aW1pc2UocmV0cHRyLCBwdHIwLCBsZW4wLCBsZXZlbCwgaW50ZXJsYWNlKTtcclxuICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XHJcbiAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xyXG4gICAgICAgIHZhciB2MSA9IGdldEFycmF5VThGcm9tV2FzbTAocjAsIHIxKS5zbGljZSgpO1xyXG4gICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHIwLCByMSAqIDEpO1xyXG4gICAgICAgIHJldHVybiB2MTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0T2JqZWN0KGlkeCkgeyByZXR1cm4gaGVhcFtpZHhdOyB9XHJcblxyXG5mdW5jdGlvbiBkcm9wT2JqZWN0KGlkeCkge1xyXG4gICAgaWYgKGlkeCA8IDM2KSByZXR1cm47XHJcbiAgICBoZWFwW2lkeF0gPSBoZWFwX25leHQ7XHJcbiAgICBoZWFwX25leHQgPSBpZHg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRha2VPYmplY3QoaWR4KSB7XHJcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoaWR4KTtcclxuICAgIGRyb3BPYmplY3QoaWR4KTtcclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuLyoqXHJcbiogQHBhcmFtIHtudW1iZXJ9IG51bV90aHJlYWRzXHJcbiogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRUaHJlYWRQb29sKG51bV90aHJlYWRzKSB7XHJcbiAgICB2YXIgcmV0ID0gd2FzbS5pbml0VGhyZWFkUG9vbChudW1fdGhyZWFkcyk7XHJcbiAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xyXG59XHJcblxyXG4vKipcclxuKiBAcGFyYW0ge251bWJlcn0gcmVjZWl2ZXJcclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdiZ19yYXlvbl9zdGFydF93b3JrZXIocmVjZWl2ZXIpIHtcclxuICAgIHdhc20ud2JnX3JheW9uX3N0YXJ0X3dvcmtlcihyZWNlaXZlcik7XHJcbn1cclxuXHJcbi8qKlxyXG4qL1xyXG5leHBvcnQgY2xhc3Mgd2JnX3JheW9uX1Bvb2xCdWlsZGVyIHtcclxuXHJcbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUod2JnX3JheW9uX1Bvb2xCdWlsZGVyLnByb3RvdHlwZSk7XHJcbiAgICAgICAgb2JqLnB0ciA9IHB0cjtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XHJcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5wdHI7XHJcbiAgICAgICAgdGhpcy5wdHIgPSAwO1xyXG5cclxuICAgICAgICByZXR1cm4gcHRyO1xyXG4gICAgfVxyXG5cclxuICAgIGZyZWUoKSB7XHJcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fX2Rlc3Ryb3lfaW50b19yYXcoKTtcclxuICAgICAgICB3YXNtLl9fd2JnX3diZ19yYXlvbl9wb29sYnVpbGRlcl9mcmVlKHB0cik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICovXHJcbiAgICBudW1UaHJlYWRzKCkge1xyXG4gICAgICAgIHZhciByZXQgPSB3YXNtLndiZ19yYXlvbl9wb29sYnVpbGRlcl9udW1UaHJlYWRzKHRoaXMucHRyKTtcclxuICAgICAgICByZXR1cm4gcmV0ID4+PiAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAqL1xyXG4gICAgcmVjZWl2ZXIoKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IHdhc20ud2JnX3JheW9uX3Bvb2xidWlsZGVyX3JlY2VpdmVyKHRoaXMucHRyKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqL1xyXG4gICAgYnVpbGQoKSB7XHJcbiAgICAgICAgd2FzbS53YmdfcmF5b25fcG9vbGJ1aWxkZXJfYnVpbGQodGhpcy5wdHIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBsb2FkKG1vZHVsZSwgaW1wb3J0cykge1xyXG4gICAgaWYgKHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJyAmJiBtb2R1bGUgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhtb2R1bGUsIGltcG9ydHMpO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykgIT0gJ2FwcGxpY2F0aW9uL3dhc20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nYCBmYWlsZWQgYmVjYXVzZSB5b3VyIHNlcnZlciBkb2VzIG5vdCBzZXJ2ZSB3YXNtIHdpdGggYGFwcGxpY2F0aW9uL3dhc21gIE1JTUUgdHlwZS4gRmFsbGluZyBiYWNrIHRvIGBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZWAgd2hpY2ggaXMgc2xvd2VyLiBPcmlnaW5hbCBlcnJvcjpcXG5cIiwgZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IG1vZHVsZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShieXRlcywgaW1wb3J0cyk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKG1vZHVsZSwgaW1wb3J0cyk7XHJcblxyXG4gICAgICAgIGlmIChpbnN0YW5jZSBpbnN0YW5jZW9mIFdlYkFzc2VtYmx5Lkluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGluc3RhbmNlLCBtb2R1bGUgfTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdChpbnB1dCwgbWF5YmVfbWVtb3J5KSB7XHJcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGlucHV0ID0gbmV3IFVSTCgnc3F1b29zaF9veGlwbmdfYmcud2FzbScsIGltcG9ydC5tZXRhLnVybCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbXBvcnRzID0ge307XHJcbiAgICBpbXBvcnRzLndiZyA9IHt9O1xyXG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl90aHJvdyA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzAsIGFyZzEpKTtcclxuICAgIH07XHJcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX21vZHVsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciByZXQgPSBpbml0Ll9fd2JpbmRnZW5fd2FzbV9tb2R1bGU7XHJcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcclxuICAgIH07XHJcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX21lbW9yeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciByZXQgPSB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzA7XHJcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcclxuICAgIH07XHJcbiAgICBpbXBvcnRzLndiZy5fX3diZ19zdGFydFdvcmtlcnNfOTE0NjU1YmI0ZDViYjVlMSA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEsIGFyZzIpIHtcclxuICAgICAgICB2YXIgcmV0ID0gc3RhcnRXb3JrZXJzKHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSksIHdiZ19yYXlvbl9Qb29sQnVpbGRlci5fX3dyYXAoYXJnMikpO1xyXG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8ICh0eXBlb2YgUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHx8ICh0eXBlb2YgVVJMID09PSAnZnVuY3Rpb24nICYmIGlucHV0IGluc3RhbmNlb2YgVVJMKSkge1xyXG4gICAgICAgIGlucHV0ID0gZmV0Y2goaW5wdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGltcG9ydHMud2JnLm1lbW9yeSA9IG1heWJlX21lbW9yeSB8fCBuZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOjE3LG1heGltdW06MTYzODQsc2hhcmVkOnRydWV9KTtcclxuXHJcbiAgICBjb25zdCB7IGluc3RhbmNlLCBtb2R1bGUgfSA9IGF3YWl0IGxvYWQoYXdhaXQgaW5wdXQsIGltcG9ydHMpO1xyXG5cclxuICAgIHdhc20gPSBpbnN0YW5jZS5leHBvcnRzO1xyXG4gICAgaW5pdC5fX3diaW5kZ2VuX3dhc21fbW9kdWxlID0gbW9kdWxlO1xyXG4gICAgd2FzbS5fX3diaW5kZ2VuX3N0YXJ0KCk7XHJcbiAgICByZXR1cm4gd2FzbTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdDtcclxuXHJcbiJdLCJuYW1lcyI6WyJ3YXNtIiwiY2FjaGVkVGV4dERlY29kZXIiLCJUZXh0RGVjb2RlciIsImlnbm9yZUJPTSIsImZhdGFsIiwiZGVjb2RlIiwiY2FjaGVnZXRVaW50OE1lbW9yeTAiLCJnZXRVaW50OE1lbW9yeTAiLCJidWZmZXIiLCJfX3diaW5kZ2VuX2V4cG9ydF8wIiwiVWludDhBcnJheSIsImhlYXAiLCJBcnJheSIsImZpbGwiLCJ1bmRlZmluZWQiLCJwdXNoIiwiaGVhcF9uZXh0IiwibGVuZ3RoIiwiYWRkSGVhcE9iamVjdCIsIm9iaiIsImlkeCIsIldBU01fVkVDVE9SX0xFTiIsImNhY2hlZ2V0SW50MzJNZW1vcnkwIiwiZ2V0SW50MzJNZW1vcnkwIiwiSW50MzJBcnJheSIsIm9wdGltaXNlIiwiZGF0YSIsImxldmVsIiwiaW50ZXJsYWNlIiwicmV0cHRyIiwiX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlciIsInB0cjAiLCJhcmciLCJtYWxsb2MiLCJwdHIiLCJzZXQiLCJwYXNzQXJyYXk4VG9XYXNtMCIsIl9fd2JpbmRnZW5fbWFsbG9jIiwibGVuMCIsInIwIiwicjEiLCJ2MSIsImxlbiIsInN1YmFycmF5Iiwic2xpY2UiLCJfX3diaW5kZ2VuX2ZyZWUiLCJ0YWtlT2JqZWN0IiwicmV0IiwiZ2V0T2JqZWN0IiwiZHJvcE9iamVjdCIsImluaXRUaHJlYWRQb29sIiwibnVtX3RocmVhZHMiLCJ3YmdfcmF5b25fc3RhcnRfd29ya2VyIiwicmVjZWl2ZXIiLCJ3YmdfcmF5b25fUG9vbEJ1aWxkZXIiLCJPYmplY3QiLCJjcmVhdGUiLCJwcm90b3R5cGUiLCJfX2Rlc3Ryb3lfaW50b19yYXciLCJ0aGlzIiwiZnJlZSIsIl9fd2JnX3diZ19yYXlvbl9wb29sYnVpbGRlcl9mcmVlIiwibnVtVGhyZWFkcyIsIndiZ19yYXlvbl9wb29sYnVpbGRlcl9udW1UaHJlYWRzIiwid2JnX3JheW9uX3Bvb2xidWlsZGVyX3JlY2VpdmVyIiwiYnVpbGQiLCJ3YmdfcmF5b25fcG9vbGJ1aWxkZXJfYnVpbGQiLCJhc3luYyIsImluaXQiLCJpbnB1dCIsIm1heWJlX21lbW9yeSIsIlVSTCIsImltcG9ydHMiLCJ3YmciLCJfX3diaW5kZ2VuX3Rocm93IiwiYXJnMCIsImFyZzEiLCJFcnJvciIsIl9fd2JpbmRnZW5fbW9kdWxlIiwiX193YmluZGdlbl93YXNtX21vZHVsZSIsIl9fd2JpbmRnZW5fbWVtb3J5IiwiX193Ymdfc3RhcnRXb3JrZXJzXzkxNDY1NWJiNGQ1YmI1ZTEiLCJhcmcyIiwiX193cmFwIiwiUmVxdWVzdCIsImZldGNoIiwibWVtb3J5IiwiV2ViQXNzZW1ibHkiLCJNZW1vcnkiLCJpbml0aWFsIiwibWF4aW11bSIsInNoYXJlZCIsImluc3RhbmNlIiwibW9kdWxlIiwiUmVzcG9uc2UiLCJpbnN0YW50aWF0ZVN0cmVhbWluZyIsImUiLCJoZWFkZXJzIiwiZ2V0IiwiY29uc29sZSIsIndhcm4iLCJieXRlcyIsImFycmF5QnVmZmVyIiwiaW5zdGFudGlhdGUiLCJJbnN0YW5jZSIsImxvYWQiLCJleHBvcnRzIiwiX193YmluZGdlbl9zdGFydCJdLCJzb3VyY2VSb290IjoiIn0=